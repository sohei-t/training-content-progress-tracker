# サブエージェント動作検証チェックリスト

このチェックリストは、各サブエージェントが作業完了前に必ず実行すべき検証項目です。

## 🎯 共通チェック項目

### 1. コード作成後の基本確認
- [ ] コードにシンタックスエラーがない
- [ ] 必要なimport/requireが全て含まれている
- [ ] ファイル保存完了

### 2. 環境セットアップ
- [ ] 必要な依存関係をインストール（npm install等）
- [ ] 環境変数の設定（必要な場合）
- [ ] 設定ファイルの作成

## 📱 フロントエンドエージェント用

### 動作確認
```bash
# ブラウザで開いて確認
open index.html
# またはローカルサーバー起動
python -m http.server 8000
```

### チェック項目
- [ ] HTMLファイルがブラウザで正常に開ける
- [ ] JavaScriptエラーがコンソールに表示されていない
- [ ] 必要なライブラリ（Chart.js等）が正しく読み込まれている
- [ ] CSSが正しく適用されている
- [ ] レスポンシブデザインが機能している
- [ ] APIとの通信が成功している（ネットワークタブで確認）

### エラー修正例
```javascript
// よくあるエラー1: 日付アダプター不足
// 解決: <script src="chartjs-adapter-date-fns.bundle.min.js"></script>を追加

// よくあるエラー2: CORS問題
// 解決: APIサーバー側でCORS設定、またはプロキシ使用
```

## 🔧 バックエンドエージェント用

### 動作確認
```bash
# サーバー起動
node server.js
# または
npm start

# API動作確認
curl http://localhost:3001/api/health
```

### チェック項目
- [ ] サーバーが正常に起動する
- [ ] APIエンドポイントが応答を返す
- [ ] データベース接続が成功している（該当する場合）
- [ ] エラーハンドリングが実装されている
- [ ] CORS設定が正しい
- [ ] ポート競合がない

### エラー修正例
```javascript
// よくあるエラー1: ポート使用中
// 解決: 別ポート使用 or 既存プロセス終了

// よくあるエラー2: モジュール不足
// 解決: npm install express cors等
```

## 🎨 UI/UXエージェント用

### 動作確認
```bash
# デザインシステムの確認
open design-system.html

# アクセシビリティチェック
# Chrome DevTools > Lighthouse
```

### チェック項目
- [ ] カラーコントラスト比が基準を満たしている
- [ ] フォーカス順序が論理的
- [ ] アニメーションが60fpsで動作
- [ ] モバイル表示が正しい
- [ ] ダークモードが機能している
- [ ] アクセシビリティ（WCAG 2.1 AA）準拠

## 🧪 統合テストエージェント用

### 動作確認
```bash
# 全体システムの起動
npm run dev

# E2Eテスト実行（設定済みの場合）
npm run test:e2e
```

### チェック項目
- [ ] フロントエンドとバックエンドが連携している
- [ ] データフローが正常
- [ ] エラー状態の処理が適切
- [ ] パフォーマンス基準を満たしている（初期表示3秒以内等）
- [ ] 主要ユーザーフローが完走する

## 📝 コミット前の最終確認

### 必須項目
- [ ] 全ての動作確認完了
- [ ] エラーログがクリーン
- [ ] テスト結果を README に記録
- [ ] 既知の問題を文書化

### コミットメッセージ例
```bash
git add .
git commit -m "feat: [機能名] - 動作検証完了

✅ 動作確認済み:
- ブラウザ表示: OK
- API接続: OK
- エラー: なし

📝 修正内容:
- Chart.js日付アダプター追加
- CORS設定追加

⚠️ 既知の課題:
- なし（または具体的な内容）
"
```

## 🚨 よくある問題と解決策

### 1. 依存関係の問題
```bash
# package.jsonがない場合
npm init -y
npm install [必要なパッケージ]
```

### 2. クロスオリジン問題
```javascript
// サーバー側に追加
app.use(cors({
  origin: ['http://localhost:3000', 'file://']
}));
```

### 3. 非同期処理のエラー
```javascript
// Promise/async-awaitの適切な使用
try {
  const data = await fetch(url);
  // 処理
} catch (error) {
  console.error('Error:', error);
  // フォールバック処理
}
```

## 📊 品質メトリクス

各エージェントは以下の品質基準を目指してください：

- **コードカバレッジ**: 80%以上
- **レスポンス時間**: API < 200ms、ページ読み込み < 3秒
- **エラー率**: 0.1%以下
- **アクセシビリティスコア**: 90点以上

---

このチェックリストを使用することで、サブエージェントが自己完結的に品質保証を行えるようになります。